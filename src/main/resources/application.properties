# Application name
spring.application.name=cbsa-migration

# Server configuration
server.port=8085

# SQLite database configuration
spring.datasource.url=jdbc:sqlite:banking.db
spring.datasource.driver-class-name=org.sqlite.JDBC

# Disable JPA auto-schema generation as we'll use SQL scripts
spring.jpa.hibernate.ddl-auto=none

# Logging configuration
logging.level.root=INFO
logging.level.com.cbsa.migration=DEBUG

# Pretty-print JSON responses
spring.jackson.serialization.indent-output=true

# Credit agency simulation settings
credit-agency.simulation.delay.enabled=true
credit-agency.simulation.delay.max-seconds=3
credit-agency.simulation.score.min=1
credit-agency.simulation.score.max=999

# Data generation settings for development
data.generation.enabled=true
data.generation.customer.start=1
data.generation.customer.end=100
data.generation.customer.step=1
data.generation.seed=12345
data.generation.transaction.days=30

# ============================================
# Monitoring and Observability Configuration
# ============================================

# Actuator endpoints configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true

# Metrics configuration
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true
management.metrics.enable.http=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.tags.application=${spring.application.name}
management.metrics.tags.environment=development

# HTTP request metrics
management.metrics.web.server.request.autotime.enabled=true

# Logging aggregation patterns
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - method=%method uri=%X{uri} status=%X{status} duration=%X{duration}ms - %msg%n

# Alert thresholds (for monitoring system integration)
monitoring.alerts.response-time.threshold-ms=1000
monitoring.alerts.error-rate.threshold-percent=5.0
monitoring.alerts.throughput.min-requests-per-minute=10
